blogdown::install_theme('yihui/hugo-lithium-theme')
blogdown:::serve_site()
install.packages('rvest')
library(rvest)
html <- html('https://headlines.yahoo.co.jp/docs/copyright.html')
html <- read_html('https://headlines.yahoo.co.jp/docs/copyright.html')
list <- html %>%
html_nodes(xpath = '//list[class="ymuiArrow1"]') %>%
html_text()
html <- read_html('https://headlines.yahoo.co.jp/docs/copyright.html')
html
html.body
html <- read_html('https://headlines.yahoo.co.jp/docs/copyright.html', encoding = "UTF-8")
list <- html %>%
html_nodes(".ymuiArrow1) %>%
html_text()
list <- html %>%
html_nodes(".ymuiArrow1) %>%
html_text()
list <- html %>%
html_nodes(".ymuiArrow1) %>%
html_text()
list <- html %>%
html_nodes(".ymuiArrow1) %>%
html_text()
html
html %>%
html_nodes(".ymuiArrow1) %>%
html_text()
html %>%
html_nodes(".ymuiArrow1) %>%
html_text()
list <- html %>%
html_nodes(".ymuiArrow1") %>%
html_text()
list
categories <- html %>%
html_nodes("ynCopyrightTitle") %>%
html_text()
categories <- html %>%
html_nodes(".ynCopyrightTitle") %>%
html_text()
categories
lists <- html %>%
html_nodes(".ymuiList"）
lists <- html %>%
html_nodes(".ymuiList"）%>%
html_text()
lists <- html %>%
html_nodes(".ymuiList"）%>%
html_text()
lists <- html %>%
html_nodes(".ymuiList"）%>%
html_text()
lists <- html %>%
html_nodes(".ymuiList") %>%
html_text()
lists <- html %>%
html_nodes(".ymuiList") %>%
lists <- html %>%
html_nodes(".ymuiList") %>%
lists <- html %>%
html_nodes(".ymuiList") %>%
lists <- html %>%
html_nodes(".ymuiList") %>%
lists <- html %>%
html_nodes(".ymuiList") %>%
html_text()
lists <- html %>%
html_nodes(".ymuiList")
lists
list <- lists[1] %>%
html_nodes(".ymuiArrow1") %>%
html_text()
list
categories
categories[1]
categories.length
categories.length()
categories.len
length(categories)
list <- lists[1] %>%
html_nodes(".ymuiArrow1 a") %>%
html_text()
list
list <- lists[1] %>%
html_nodes(".ymuiArrow1 > a, .yumiArrow1 > span") %>%
html_text()
list
list <- lists[1] %>%
html_nodes(".yumiArrow1 > span.yjS") %>%
html_text()
list
list <- lists[1] %>%
html_nodes(".ymuiArrow1 > a, .ymuiArrow1 > span.yjS") %>%
html_text()
list
link <- lists[1] %>%
html_nodes(".ymuiArrow1 > a") %>%
html_attr('href')
link
links <- lists[1] %>%
html_nodes(".ymuiArrow1 > a") %>%
html_attr('href')
label <- lists[1] %>%
html_nodes(".ymuiArrow1 > a") %>%
html_text()
provider <- lists[1] %>%
html_nodes(".ymuiArrow1 > span.yjS") %>%
html_text()
gsub("^ ", "", " KARADANI EMONO ")
gsub('', '', provider)
gsub('（', '', provider)
gsub('）', '', provider)
provider <- gsub('（', '', provider)
provider <- gsub('）', '', provider)
provider
data.frame(label, provider, link, stringsAsFactors = FALSE) %>% View()
df <- data.frame(label, provider, link, stringsAsFactors = FALSE)
df
df[1]
df[1:1]
df[1,1]
df[1,2]
df[1,3]
labelurl <- df[1,3]
labelcount <- labelhtml %>%
html_node('div#main div.articleList strong') %>%
html_text() %>%
as.integer()
labelhtml <- read_html(url, encoding = "UTF-8")
labelhtml <- read_html(labelurl, encoding = "UTF-8")
labelcount <- labelhtml %>%
html_node('div#main div.articleList strong') %>%
html_text() %>%
as.integer()
labelcount
getlabelcount <- function() {
labelurl <- df[1,3]
labelhtml <- read_html(labelurl, encoding = "UTF-8")
labelcount <- labelhtml %>%
html_node('div#main div.articleList strong') %>%
html_text() %>%
as.integer()
labelcount
}
getlabelcount
getlabelcount()
apply(df, 1, print)
?apply
testfunc <- function(x) {
x
}
apply(df, 1, testfunc)
getlabelcount <- function(x) {
labelurl <- x[3]
labelhtml <- read_html(labelurl, encoding = "UTF-8")
labelcount <- labelhtml %>%
html_node('div#main div.articleList strong') %>%
html_text() %>%
as.integer()
labelcount
}
apply(df, 1, getlabelcount)
View(df)
View(df)
df.count <- 1
View(df)
df$count <- 1
df$count <- apply(df, 1, getlabelcount)
View(df)
View(df)
?write.csv
write.csv(df)
write.csv(df, file = "国内.csv")
blogdown:::serve_site()
blogdown:::serve_site()
blogdown::install_theme('yihui/hugo-lithium-theme')
blogdown:::serve_site()
servr::daemon_stop("4329037392")
blogdown:::serve_site()
blogdown::install_theme('yihui/hugo-lithium-theme')
blogdown:::serve_site()
blogdown:::new_post_addin()
日本語
